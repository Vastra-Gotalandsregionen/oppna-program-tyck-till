#summary Introduktion till Tyck till-applikationen.
#labels Featured

= Innehåll = 

<wiki:toc max_depth="3" />

= Introduktion =
Tyck Till är en applikation för att skicka felrapporter samt övrig feedback. Den första versionen används används för att hantera felrapporter och övrig feedback i portalen. 

Applikationen bygger på ett formulär imlementerat enligt standarden [http://www.w3.org/TR/xforms/ XForms]. Som implementation av XForms används open source-produkten [http://www.orbeon.com Orbeon]. Se [http://code.google.com/p/oppna-program/wiki/Anvisningar_Anslutningsskikt_formularhantering_XForms referensarkitekturens anvisningar] för mer information om hur XForms och Orbeon skall användas. 

= Sätta upp sin lokala utvecklingsmiljö =

För att utveckla och köra projektet lokalt används referensarkitekturens utvecklingsmiljö. Börja därför med att sätta upp utvecklingsmiljön enligt [http://code.google.com/p/oppna-program/wiki/Anvisningar_Utvecklingsmiljo referensarkitekturens instruktioner]. Se [http://code.google.com/p/oppna-program-tyck-till/source/checkout Source] för information om hur du checkar ut källkoden. 


== Testa portlets lokalt ==

!OpenPortlet Container på Glassfish används för utveckling och test av portlet-delarna. Se [http://oppna-program.googlecode.com/svn/reference-architecture/trunk/docs/Teknisk_arkitektur/Systemutveckling/JavaEE/Anvisningar_Anslutningsskikt_Portlet.doc referensarkitekturens anvisningar för portlets] för mer information om utveckling av JSR 286-portlets och hur installationen av !OpenPortlet Container och Glassfish går till.

=== Deploy av portlets till !OpenPortlet Container === 

Starta Glassfish. Gå därefter till http://localhost:8080/portletdriver/admin. Välj webbisar-portlett.war och tryck på Deploy. Gå därefter till Portlets-fliken där default-portletfönstret automatiskt har uppdaterats med webbisar-portlettarna; _!EditWebbis_ och _!AdminEditWebbis_. 


= Att skapa en release på google code =

Att skapa en release: 

  * Kopiera från trunk till tag
{{{ 
svn copy -m "Taging for release"  https://oppna-program-tyck-till.googlecode.com/svn/trunk/ 
https://oppna-program-tyck-till.googlecode.com/svn/tags/<release version>
}}}
  * Checka ut tagen
{{{
svn co https://oppna-program-tyck-till.googlecode.com/svn/tags/<release version>
}}}
  * Stega up versionen i trunk (ändra version i alla pom-filer). Not: Om det är en milestone eller release candidate som releasas så behövs ej detta - då ska trunk ligga kvar på SNAPSHOT.
  * Gör commit på trunk (om versionen har stegats upp):
{{{
svn -m "Increasing version for new development in trunk" commit
}}}
  * Ändra versionen i alla pom-filer under tagen 
  * Gör commit på tagen:
{{{
svn -m "Setting version for release of <release version>" commit
}}}
  * Kontrollera så att googleCode-svn-serverns användarnamn och lösenord stämmer i mavenfilen $USER_HOME/.m2/settings.xml (se exempel [http://oppna-program.googlecode.com/svn/reference-architecture/trunk/src/tools/maven-settings/settings.xml här]). 
  * Kör sedan maven deploy i katalogen /tags/<release version>/ för att deploya maven-artefakterna till [https://oppna-program-tyck-till.googlecode.com/svn/maven maven-repot] (TODO: ev bör detta köras av byggservern):
{{{
mvn deploy
}}}
  * Samla ihop alla filer, inkl dokument, och skapa en src-download: 
    * Kör `maven clean` för att ta bort alla target-folders.
    * Ta bort alla svn-foldrar, t ex (på Linux/Mac) med `find . -type d -name '*.svn' -print0 | xargs -0 rm -rdf`. Zippa ihop src+docs och lägg upp filen under downloads. 
  * Not: För icke-bakåtkompatibla releaser (major-versioner) kan vissa wiki-sidor behöva sparas i enlighet med den tidigare versionen. Detta får bedömas från fall till fall. 
  * Not: Om en separat branch skulle behövas, t ex för buggfixar görs detta vid behov (dvs när första buggen skall fixas) genom att kopiera från tags till branches:
{{{ 
svn copy -m "Branching release"  https://oppna-program-tyck-till.googlecode.com/svn/tags/<release version> 
https://oppna-program-tyck-till.googlecode.com/svn/branches/<release version>
}}} 